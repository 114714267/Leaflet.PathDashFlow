// @class PolyLine
L.Path.mergeOptions({dashSpeed:0});var _originalBeforeAdd=L.Path.prototype.beforeAdd;L.Path.include({beforeAdd:function(a){_originalBeforeAdd.bind(this)(a);this.options.dashSpeed&&(this._lastDashFrame=performance.now(),this._dashFrame=L.Util.requestAnimFrame(this._onDashFrame.bind(this)))},_onDashFrame:function(){if(this._renderer){var a=(performance.now()-this._lastDashFrame)*this.options.dashSpeed/1E3;this.options.dashOffset=Number(this.options.dashOffset||0)+a;this._renderer._updateStyle(this);this._lastDashFrame=performance.now();this._dashFrame=L.Util.requestAnimFrame(this._onDashFrame.bind(this))}},_offDashFrame:function(){L.Util.cancelAnimFrame(this._dashFrame)},onRemove:function(){this._renderer._removePath(this);this._offDashFrame()}});L.Canvas.include({_updateDashArray:function(a){if("string"===typeof a.options.dashArray){var c=a.options.dashArray.split(/[, ]+/),b=[],e,d;for(d=0;d<c.length;d++){e=Number(c[d]);if(isNaN(e))return;b.push(e)}a.options._dashArray=b}else a.options._dashArray=a.options.dashArray;a.options.dashOffset&&(a.options._dashOffset=a.options.dashOffset)},_fillStroke:function(a,c){var b=c.options;b.fill&&(a.globalAlpha=b.fillOpacity,a.fillStyle=b.fillColor||b.color,a.fill(b.fillRule||"evenodd"));b.stroke&&0!==b.weight&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),c.options._dashOffset&&(a.lineDashOffset=c.options._dashOffset),a.globalAlpha=b.opacity,a.lineWidth=b.weight,a.strokeStyle=b.color,a.lineCap=b.lineCap,a.lineJoin=b.lineJoin,a.stroke())}});